let currentIndex=0;const works=document.querySelectorAll(".media-gallery img, .media-gallery video, .media-gallery-random img, .media-gallery-random video");let debounceTimer;function openLightbox(e){if(e<0||e>=works.length)return;currentIndex=e;const t=works[e],n=document.getElementById("lightbox-modal"),o=document.getElementById("lightbox-img"),i=document.getElementById("lightbox-video"),l=document.getElementById("lightbox-title"),a=document.getElementById("lightbox-description");l.textContent=t.getAttribute("data-title")||"Untitled",a.textContent=t.getAttribute("data-description")||"No description available.","video"===t.tagName.toLowerCase()?(i.src=t.src||t.querySelector("source")?.src,i.style.display="block",o.style.display="none"):(o.src=t.src,o.style.display="block",i.style.display="none"),n.style.display="flex"}function closeLightbox(){document.getElementById("lightbox-modal").style.display="none"}function changeImage(e){debounceTimer&&clearTimeout(debounceTimer),debounceTimer=setTimeout((()=>{currentIndex+=e,currentIndex>=works.length&&(currentIndex=0),currentIndex<0&&(currentIndex=works.length-1),openLightbox(currentIndex)}),200)}function updateTime(){const e=(new Date).toLocaleTimeString();document.getElementById("dateTimeLocation").textContent=`It's ${e}`}window.addEventListener("scroll",(function(){let e=document.documentElement.scrollTop/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100;document.getElementById("progress-bar").style.width=e+"%"})),document.addEventListener("DOMContentLoaded",(()=>{document.querySelector(".arrow.left").addEventListener("click",(()=>changeImage(-1))),document.querySelector(".arrow.right").addEventListener("click",(()=>changeImage(1))),works.forEach(((e,t)=>{e.addEventListener("click",(()=>{openLightbox(t)}))})),document.addEventListener("keydown",(e=>{"flex"===document.getElementById("lightbox-modal").style.display&&("ArrowLeft"===e.key?changeImage(-1):"ArrowRight"===e.key?changeImage(1):"Escape"===e.key&&closeLightbox())}))})),document.addEventListener("DOMContentLoaded",(()=>{document.addEventListener("keydown",(e=>{"ArrowLeft"===e.key?changeImage(-1):"ArrowRight"===e.key&&changeImage(1)}));var e=document.getElementById("click-counter"),t=parseInt(sessionStorage.getItem("clickCount"))||0;e.innerText=`You clicked ${t} times.`,document.addEventListener("click",(()=>{t++,sessionStorage.setItem("clickCount",t),e.innerText=`You clicked ${t} times.`})),document.getElementById("current-date").textContent=(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})),window.onload=function(){sessionStorage.getItem("startTime")||sessionStorage.setItem("startTime",Date.now().toString()),setInterval((()=>{const e=parseInt(sessionStorage.getItem("startTime"),10);if(!isNaN(e)){const t=Math.floor((Date.now()-e)/1e3);document.getElementById("timer").innerText=`You've been here for ${t} seconds.`}}),1e3)},window.onbeforeunload=function(){sessionStorage.removeItem("startTime")},window.addEventListener("load",(()=>{const e=document.getElementById("page-loader"),t=document.getElementById("content");e.style.opacity=0,setTimeout((()=>{e.style.display="none",t.style.display="block"}),500)}));const menu=document.getElementById("menu"),menuButton=document.getElementById("menu-button");function filterArchive(e){document.querySelectorAll(".archive-item").forEach((t=>{const n=t.querySelector(".archive-title").textContent.toLowerCase(),o=t.querySelector(".archive-content").textContent.toLowerCase();n.includes(e)||o.includes(e)?t.style.display="flex":t.style.display="none"}))}menuButton.addEventListener("click",(function(){menu.classList.toggle("show"),menuButton.classList.toggle("active")})),document.getElementById("search-bar").addEventListener("input",(function(){filterArchive(this.value.toLowerCase())}));const archiveData=[{title:"ISSUE #3",year:2025,content:"While I'm Conscious (WIC) 3rd issue.",thumbnailVideo:"FOOTAGE/VIDEO/THUMBNAIL/thumbnail.mp4",link:"ISSUE3.html"},{title:"RANDOM 2025",year:2025,content:"Seungyu's 2025 random archive.",thumbnail:"FOOTAGE/IMAGE/ARCHIVE_THUMBNAILS/riodejaneiro.jpg",link:"RANDOM2025.html"},{title:"'ANTHROPOCÃˆNE'",year:2024,content:"Assisted by Eneko.",thumbnail:"FOOTAGE/IMAGE/ARCHIVE_THUMBNAILS/eneko.avif",link:"ANTHROPOCENE.html"},{title:"'BOUQUET DE FLEURS'",year:2024,content:"LUV U LIL SIS.",thumbnail:"FOOTAGE/IMAGE/ARCHIVE_THUMBNAILS/chaeyu1.avif",link:"BOUQUET DE FLEURS.html"},{title:"'SANS TITRE'",year:2024,content:"Assisted by Milan Pejic.",thumbnail:"FOOTAGE/IMAGE/ARCHIVE_THUMBNAILS/milan2.avif",link:"SANS TITRE.html"},{title:"'THE BARRACKS'",year:2024,content:"Assisted by R4TPUNKI.",thumbnail:"FOOTAGE/IMAGE/ARCHIVE_THUMBNAILS/lanouvellevague.avif",link:"THE BARRACKS.html"},{title:"'BLIND-SELF-RELIANCE'",year:2024,content:"Assisted by Diego.",thumbnail:"FOOTAGE/IMAGE/ARCHIVE_THUMBNAILS/diego.jpg",link:"BLIND-SELF-RELIANCE.html"},{title:"RANDOM 2024",year:2024,content:"Seungyu's 2024 random archive.",thumbnail:"FOOTAGE/IMAGE/RANDOM 2024/ladybird.jpg",link:"RANDOM2024.html"},{title:"ISSUE #2",year:2024,content:"While I'm Conscious (WIC) 2nd issue.",thumbnailVideo:"FOOTAGE/VIDEO/THUMBNAIL/issue2thumbnail.mp4",link:"ISSUE2.html"},{title:"'UN1T' DIRECTED BY SEUNGYU JUNG",year:2023,content:"SENDING LUV TO THE HOMIES.",thumbnailVideo:"FOOTAGE/VIDEO/THUMBNAIL/UNITTEASER.mp4",link:"UN1T.html"}];function generateArchive(){const e=document.getElementById("archive-container");e.innerHTML="";const t=archiveData.reduce(((e,t)=>(e[t.year]=e[t.year]||[],e[t.year].push(t),e)),{});Object.keys(t).sort(((e,t)=>t-e)).forEach((n=>{const o=document.createElement("div");o.innerHTML=`<h3 class="archive-year">${n}</h3>`,t[n].forEach((e=>{const t=document.createElement("div");let n;t.classList.add("archive-item"),e.thumbnailVideo?(n=document.createElement("video"),n.src=e.thumbnailVideo,n.autoplay=!0,n.loop=!0,n.muted=!0,n.classList.add("archive-thumbnail")):(n=document.createElement("img"),n.src=e.thumbnail,n.classList.add("archive-thumbnail"));const i=document.createElement("div");i.classList.add("archive-info");const l=document.createElement("h4");l.classList.add("archive-title"),l.textContent=e.title;const a=document.createElement("p");a.classList.add("archive-content","hidden"),a.textContent=e.content;const c=document.createElement("a");c.href=e.link,c.textContent="VIEW MORE!",c.classList.add("view-more","hidden"),l.addEventListener("click",(function(){a.classList.toggle("hidden"),c.classList.toggle("hidden")})),i.appendChild(l),i.appendChild(a),i.appendChild(c),t.appendChild(n),t.appendChild(i),o.appendChild(t)})),e.appendChild(o)}))}document.addEventListener("DOMContentLoaded",generateArchive);
